<!doctype html>
<html>
    <head>
        <meta charset="utf-8">        
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">


        <title>Private Chat</title>
    
        <link rel="stylesheet" href="static/bootstrap-3.3.7/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="static/index.css">

        <!-- jQuery library -->
        <script src="static/jquery-3.3.1.min.js"></script>

        <!-- Latest compiled JavaScript -->
        <script src="static/bootstrap-3.3.7/dist/js/bootstrap.min.js"></script>    

        <script src="static/globals.js"></script>
        <script src="static/index.js"></script>

        <link rel="stylesheet" href="static/rotate.css">

        <!-- sweet alert -->
        <script src="static/sweetalert/sweetalert.min.js"></script>
        <link rel="stylesheet" href="static/sweetalert/sweetalert.css">

        <script src="static/localforage.nopromises.min.js">
            // this script is best to use on phonegap when cordova-plugin-sqlite is included in config.xml file
            // as it enables the lib actually store data persistently in an sqlite db!
            // available functions are: getItem,setItem,removeItem,clear
        </script>

        <link id="theme" rel="stylesheet" href="">

        <script>
            $(document).ready(function () {
              $(".navbar-nav li div").click(function(event) {
                $(".navbar-collapse").collapse('hide');
              });
            });
                
        </script>

        <script type="text/javascript" charset="utf-8" src="cordova.js"></script>

    </head>

    <body oncontextmenu="return false;">
        <div id="preview_div" style="display:none">
            <div class="clickable" style="
                color:#0f0; 
                background-color:black; 
                font-weight:bold; 
                text-align:center;
                width:100%;
                float:right;"
                
                onclick="done_previewing()">done</div>
            <img id="preview-img" class="img-responsive" style="margin:0 auto;"/>
        </div>
                
        <div id="uploading" style="display:none">Uploading Files: <span id="upload_progress">0.00%</span></div>
        <div id="notification" style="display:none"></div>

        <div class="modal fade" id="attachment_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" style="width:90%;" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Media Caption</h4>
              </div>
              <div class="modal-body">
                    <div class="form-group">
                        <input id="caption" type="text" class="form-control" 
                            placeholder="type caption here">
                    </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" 
                    data-dismiss="modal" onclick="cancel_attachment()">Cancel</button>
                <button type="button" class="btn btn-success" onclick="send_attachment()">Send</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal fade" id="themes_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" style="width:90%;" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Themes</h4>
              </div>
              <div class="modal-body" style="overflow: auto; max-height: 250px;">
                    <div id="themes"></div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-success" data-dismiss="modal">Done</button>
              </div>
            </div>
          </div>
        </div>
        
        <div class="modal fade" id="settings_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" style="width:90%;" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Settings</h4>
              </div>
              <div class="modal-body">
                    <div class="setting" onclick="edit_account()">1) Account Password</div>
                    <!--<div class="setting">Logout Delay</div>-->
                    <div class="setting" style="border-bottom:0px;"
                        onclick="
                        hide_modal('settings_modal');
                        show_modal('themes_modal');">2) Themes</div>
                    <div class="setting" onclick="edit_max_inbox()">3) Inbox Limit</div>
                    <div id="vibrate" class="setting" onclick="edit_vibration(this)">4) Vibration: On</div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-success" data-dismiss="modal">Done</button>
              </div>
            </div>
          </div>
        </div>
        
        <div class="modal fade" id="sure_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" style="width:90%;" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="sure_modal_title">Logout</h4>
              </div>
              <div class="modal-body" style="overflow: auto; max-height: 250px;">
                    are you sure?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
                <button type="button" class="btn btn-success" onclick="sure_modal_action()">Yes</button>
              </div>
            </div>
          </div>
        </div>
        
        <div id="main_div" style="display:none">
            <div id="logout" onclick="back()" style="display:none;">
                <span class="glyphicon glyphicon-chevron-left"></span>
            </div>
            <span id="back" class="glyphicon glyphicon-chevron-left" onclick="back()"></span>


            <div id="online_state" class="blink" style="display:none"></div>

            <div id="login-div" class="container" style="
                display:block;
                position:absolute;
                width:100%; left:0%;
                height:100%;top:0%;
                
                background: #1f1212 url('data/target.jpg') no-repeat;
                background-position: center;
                background-size: cover;
            ">
                
                <p>.</p>
                <p>.</p>
                
                <img id="logo" class="img-circle img-responsive center-block"
                    src="static/icons/hearts.png" width="100" height="100">
                            
                <p>.</p>
                <p>.</p>

                <form>
                    <div class="input-group">
                        <span class="input-group-addon" style="opacity:0.8;"
                            ><i class="glyphicon glyphicon-user"></i></span>
                        <input id="uname" type="text" class="form-control" 
                            name="uname" placeholder="Username"
                            style="opacity:0.8;">
                    </div>
                    
                    <p></p>
                    
                    <div class="input-group">
                        <span class="input-group-addon" style="opacity:0.8;"
                            ><i class="glyphicon glyphicon-lock"></i></span>
                        <input id="pswd" type="password" class="form-control" 
                            name="pswd" placeholder="Password"
                            style="opacity:0.8;">
                    </div>

                    <p></p><p></p>

                    <div class="pager">
                        <button type="button" class="next btn btn-danger" style="width:50%;"
                            onclick="login()"
                        >Login</button>
                    </div> 
                    
                </form>

            </div>
            
            <div id="groups-div" style="margin-top:25px; display:none;"></div>
                        
            <div id="chats" style="display:none;">
                <div id="chats-container-div" class="chats-container-div">
                    
                    <div class="chats_div">
                    </div>
                          
                </div>
                
                <div id="bottom" class="input-group bottom">
                        <form id="form" method="POST" enctype="multipart/form-data">
                            <input id="files" name="files" type="file" multiple 
                                style="display:none;" onchange="show_modal('attachment_modal')">
                            <input type="hidden" id="_group" name="group">
                            <input type="hidden" id="_sender" name="sender">
                            <input type="hidden" id="_msg" name="msg">
                        </form>
                    <span class="input-group-addon">
                        <i class="glyphicon glyphicon-cog"
                            onclick="show_modal('settings_modal');"></i>
                    </span>
                    <span class="input-group-addon">
                        <i class="glyphicon glyphicon-paperclip"
                            onclick="open_emoji_div()"></i>
                    </span>
                    <input oncontextmenu="return true;" id="entry" type="text" class="form-control" placeholder="type here...">
                    <span class="input-group-addon">
                        <i class="glyphicon glyphicon-chevron-right"
                            onclick="send_message()"></i>
                    </span>
                </div>
            </div>
        </div>
        
        <div id="calc_div" style='display:none2;'>
            <div id="calc_input"></div>
            <div id="calc_output"></div>
            <div id="calc_btn_div">
                <div class="calc_btn_row">
                    <div class="calc_btn">7</div>
                    <div class="calc_btn">8</div>
                    <div class="calc_btn">9</div>
                    <div class="calc_btn">Del</div>
                </div>
                <div class="calc_btn_row">
                    <div class="calc_btn">4</div>
                    <div class="calc_btn">5</div>
                    <div class="calc_btn">6</div>
                    <div class="calc_btn">/</div>
                </div>
                <div class="calc_btn_row">
                    <div class="calc_btn">1</div>
                    <div class="calc_btn">2</div>
                    <div class="calc_btn">3</div>
                    <div class="calc_btn">x</div>
                </div>
                <div class="calc_btn_row">
                    <div class="calc_btn">.</div>
                    <div class="calc_btn">0</div>
                    <div class="calc_btn">=</div>
                    <div class="calc_btn">-</div>
                </div>
                <div class="calc_btn_row">
                    <div class="calc_btn">000</div>
                    <div class="calc_btn">(</div>
                    <div class="calc_btn">)</div>
                    <div class="calc_btn">+</div>
                </div>
            </div>
        </div>

        <div id="emoji_div" style="display:none;">
            <span style="
                position:fixed;
                bottom:295px;
                left:1%;
                border-radius: 10px;
                padding:5px;
                background-color: white;
                color:green;
                z-index: -10;
                text-align:center;
            " onclick="document.getElementById('files').click()">attach media</span>

            <span style="
                position:fixed;
                bottom:295px;
                right:1%;
                border-radius: 10px;
                padding:5px;
                background-color: white;
                color:red;
                z-index: -10;
                text-align:center;
            " onclick="close_emoji_div()">close</span>

            <div style="background-color:#200">
<!--
                <span class="clickable" style="color:#ddd;font-weight:bold;margin-left:5px;"
                    onclick="document.getElementById('files').click()">Attach File...</span>
                <span class="clickable" style="
                    color:white;
                    font-weight:bold;
                    float:right;
                    font-size:1em;
                    margin-right:5px;
                    background-color:#f00;
                    border-radius:50%;
                    width:20px;
                    text-align:center;
                    "
                    onclick="close_emoji_div()">x</span>
-->
            </div>
        </div>
        
        <div id="quoted" style="display:none;">
            <div style="
                position:fixed;
                bottom:125px;
                right:1%;
                border-radius: 10px;
                padding:5px;
                background-color: white;
                color:red;
                z-index: 2;
                text-align:center;
            " onclick="close_quote()">close</div>

            <span id="quoted_msg" style="">hello, darness my od frnd...</span>

        </div>
        
        <div class="rotate" id="loading_div"
            style="
                position:fixed; 
                left:45%; 
                top:45%; 
                z-index:5; 
                font-size:2em;
                color:#0f0;
                display: none;
                ">
            <strong>....</strong>
        </div>

        <input type="hidden" id="__uname__">
        <input type="hidden" id="__group__">
    </body>
</html>
